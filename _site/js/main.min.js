!function(a){a.jscroll={defaults:{debug:!1,autoTrigger:!0,autoTriggerUntil:!1,loadingHtml:"<small>Loading...</small>",padding:0,nextSelector:"a:last",contentSelector:"",pagingSelector:"",callback:!1}};var b=function(b,c){function d(){var b=a(o.loadingHtml).filter("img").attr("src");if(b){var c=new Image;c.src=b}}function e(){b.find(".jscroll-inner").length||b.contents().wrapAll('<div class="jscroll-inner" />')}function f(a){if(o.pagingSelector)var b=a.closest(o.pagingSelector).hide();else{var b=a.parent().not(".jscroll-inner,.jscroll-added").addClass("jscroll-next-parent").hide();b.length||a.wrap('<div class="jscroll-next-parent" />').parent().hide()}}function g(){return t.unbind(".jscroll").removeData("jscroll").find(".jscroll-inner").children().unwrap().filter(".jscroll-added").children().unwrap()}function h(){e();var a=b.find("div.jscroll-inner").first(),c=b.data("jscroll"),d=parseInt(b.css("borderTopWidth")),f=isNaN(d)?0:d,g=parseInt(b.css("paddingTop"))+f,h=p?t.scrollTop():b.offset().top,i=a.length?a.offset().top:0,j=Math.ceil(h-i+t.height()+g);return!c.waiting&&j+o.padding>=a.outerHeight()?(l("info","jScroll:",a.outerHeight()-j,"from bottom. Loading next request..."),k()):void 0}function i(a){return a=a||b.data("jscroll"),a&&a.nextHref?(j(),!0):(l("warn","jScroll: nextSelector not found - destroying"),g(),!1)}function j(){var a=b.find(o.nextSelector).first();o.autoTrigger&&(o.autoTriggerUntil===!1||o.autoTriggerUntil>0)?(f(a),s.height()<=r.height()&&h(),t.unbind(".jscroll").bind("scroll.jscroll",function(){return h()}),o.autoTriggerUntil>0&&o.autoTriggerUntil--):(t.unbind(".jscroll"),a.bind("click.jscroll",function(){return f(a),k(),!1}))}function k(){var c=b.find("div.jscroll-inner").first(),d=b.data("jscroll");return d.waiting=!0,c.append('<div class="jscroll-added" />').children(".jscroll-added").last().html('<div class="jscroll-loading">'+o.loadingHtml+"</div>"),b.animate({scrollTop:c.outerHeight()},0,function(){c.find("div.jscroll-added").last().load(d.nextHref,function(c,e){if("error"===e)return g();var f=a(this).find(o.nextSelector).first();d.waiting=!1,d.nextHref=f.attr("href")?a.trim(f.attr("href")+" "+o.contentSelector):!1,a(".jscroll-next-parent",b).remove(),i(),o.callback&&o.callback.call(this),l("dir",d)})})}function l(a){if(o.debug&&"object"==typeof console&&("object"==typeof a||"function"==typeof console[a]))if("object"==typeof a){var b=[];for(var c in a)"function"==typeof console[c]?(b=a[c].length?a[c]:[a[c]],console[c].apply(console,b)):console.log.apply(console,b)}else console[a].apply(console,Array.prototype.slice.call(arguments,1))}var m=b.data("jscroll"),n="function"==typeof c?{callback:c}:c,o=a.extend({},a.jscroll.defaults,n,m||{}),p="visible"===b.css("overflow-y"),q=b.find(o.nextSelector).first(),r=a(window),s=a("body"),t=p?r:b,u=a.trim(q.attr("href")+" "+o.contentSelector);return b.data("jscroll",a.extend({},m,{initialized:!0,waiting:!1,nextHref:u})),e(),d(),j(),a.extend(b.jscroll,{destroy:g}),b};a.fn.jscroll=function(c){return this.each(function(){var d=a(this),e=d.data("jscroll");if(!e||!e.initialized){new b(d,c)}})}}(jQuery),!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports=function(){function a(a){return 200==a.status&&4==a.readyState}function b(b,c){b.onreadystatechange=function(){if(a(b))try{c(null,JSON.parse(b.responseText))}catch(d){c(d,null)}}}var c=this;c.load=function(a,c){var d=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");d.open("GET",a,!0),b(d,c),d.send()}}},{}],2:[function(a,b){function c(){function a(a){return new RegExp(a.split("").join(".*?"),"gi")}var b=this;b.matches=function(b,c){return"string"!=typeof b?!1:(b=b.trim(),!!b.match(a(c)))}}b.exports=new c},{}],3:[function(a,b){function c(){function a(a,b){return a.toLowerCase().indexOf(b.toLowerCase())>=0}var b=this;b.matches=function(b,c){return"string"!=typeof b?!1:(b=b.trim(),a(b,c))}}b.exports=new c},{}],4:[function(a,b){b.exports=function(){function b(a,b,d){for(var e=a.get(),g=0;g<e.length&&f.length<h;g++)c(e[g],b,d);return f}function c(a,b,c){for(var d in a)if(c.matches(a[d],b)){f.push(a);break}}function d(){return g?i:j}var e=this,f=[],g=!1,h=10,i=a("./SearchStrategies/fuzzy"),j=a("./SearchStrategies/literal");e.setFuzzy=function(a){g=!!a},e.setLimit=function(a){h=parseInt(a,10)||h},e.search=function(a,c){return c?(f.length=0,b(a,c,d())):[]}}},{"./SearchStrategies/fuzzy":2,"./SearchStrategies/literal":3}],5:[function(a,b){b.exports=function(a){function b(a){return!!a&&"[object Object]"==Object.prototype.toString.call(a)}function c(a){return!!a&&"[object Array]"==Object.prototype.toString.call(a)}function d(a){return g.push(a),a}function e(a){for(var c=[],e=0;e<a.length;e++)b(a[e])&&c.push(d(a[e]));return c}var f=this,g=[];c(a)&&e(a),f.clear=function(){return g.length=0,g},f.get=function(){return g},f.put=function(a){return b(a)?d(a):c(a)?e(a):void 0}}},{}],6:[function(a,b){b.exports=function(){var a=this,b=/\{(.*?)\}/g;a.setTemplatePattern=function(a){b=a},a.render=function(a,c){return a.replace(b,function(a,b){return c[b]||a})}}},{}],7:[function(a){!function(b){"use strict";function c(){function a(){j.put(q.dataSource),m()}function b(a){k.load(a,function(b,d){b?c("failed to get JSON ("+a+")"):(j.put(d),m())})}function c(a){throw new Error("SimpleJekyllSearch --- "+a)}function d(a){for(var b=0;b<p.length;b++){var d=p[b];a[d]||c("You must specify a "+d)}}function e(a){for(var b in q)q[b]=a[b]||q[b]}function f(a){try{return a instanceof Object&&JSON.parse(JSON.stringify(a))}catch(b){return!1}}function g(){q.resultsContainer.innerHTML=""}function l(a){q.resultsContainer.innerHTML+=a}function m(){q.searchInput.addEventListener("keyup",function(a){return 0==a.target.value.length?void g():void n(h.search(j,a.target.value))})}function n(a){if(g(),0==a.length)return l(q.noResultsText);for(var b=0;b<a.length;b++)l(i.render(q.searchResultTemplate,a[b]))}var o=this,p=["searchInput","resultsContainer","dataSource"],q={searchInput:null,resultsContainer:null,dataSource:[],searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',noResultsText:"No results found",limit:10,fuzzy:!1};o.init=function(c){d(c),e(c),f(q.dataSource)?a(q.dataSource):b(q.dataSource)}}var d=a("./Searcher"),e=a("./Templater"),f=a("./Store"),g=a("./JSONLoader"),h=new d,i=new e,j=new f,k=new g;b.SimpleJekyllSearch=new c}(window,document)},{"./JSONLoader":1,"./Searcher":4,"./Store":5,"./Templater":6}]},{},[7]);var twitterFetcher=function(){function a(a){if(null===o){for(var b=a.length,c=0,d=document.getElementById(e),f="<ul>";b>c;)f+="<li>"+a[c]+"</li>",c++;f+="</ul>",d.innerHTML=f}else o(a)}function b(a){return a.replace(/<b[^>]*>(.*?)<\/b>/gi,function(a,b){return b}).replace(/class=".*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function c(a,b){for(var c=[],d=new RegExp("(^| )"+b+"( |$)"),e=a.getElementsByTagName("*"),f=0,g=e.length;g>f;f++)d.test(e[f].className)&&c.push(e[f]);return c}function d(a){if(void 0!==a){var b=a.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(b).split('"')[1]}}var e="",f=20,g=!0,h=[],i=!1,j=!0,k=!0,l=null,m=!0,n=!0,o=null,p=!0,q=!1,r="en";return{fetch:function(a){if(void 0===a.maxTweets&&(a.maxTweets=20),void 0===a.enableLinks&&(a.enableLinks=!0),void 0===a.showUser&&(a.showUser=!0),void 0===a.showTime&&(a.showTime=!0),void 0===a.dateFunction&&(a.dateFunction="default"),void 0===a.showRetweet&&(a.showRetweet=!0),void 0===a.customCallback&&(a.customCallback=null),void 0===a.showInteraction&&(a.showInteraction=!0),void 0===a.showImages&&(a.showImages=!1),i)h.push(a);else{i=!0,e=a.domId,f=a.maxTweets,g=a.enableLinks,k=a.showUser,j=a.showTime,n=a.showRetweet,l=a.dateFunction,o=a.customCallback,p=a.showInteraction,q=a.showImages;var b=document.createElement("script");b.type="text/javascript",b.src="//cdn.syndication.twimg.com/widgets/timelines/"+a.id+"?&lang="+(a.lang||r)+"&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random(),document.getElementsByTagName("head")[0].appendChild(b)}},callback:function(e){var o=document.createElement("div");o.innerHTML=e.body,"undefined"==typeof o.getElementsByClassName&&(m=!1);var r=[],s=[],t=[],u=[],v=[],w=[],x=0;if(m)for(var y=o.getElementsByClassName("tweet");x<y.length;)v.push(y[x].getElementsByClassName("retweet-credit").length>0?!0:!1),(!v[x]||v[x]&&n)&&(r.push(y[x].getElementsByClassName("e-entry-title")[0]),w.push(y[x].getAttribute("data-tweet-id")),s.push(y[x].getElementsByClassName("p-author")[0]),t.push(y[x].getElementsByClassName("dt-updated")[0]),u.push(void 0!==y[x].getElementsByClassName("inline-media")[0]?y[x].getElementsByClassName("inline-media")[0]:void 0)),x++;else for(var y=c(o,"tweet");x<y.length;)r.push(c(y[x],"e-entry-title")[0]),w.push(y[x].getAttribute("data-tweet-id")),s.push(c(y[x],"p-author")[0]),t.push(c(y[x],"dt-updated")[0]),u.push(void 0!==c(y[x],"inline-media")[0]?c(y[x],"inline-media")[0]:void 0),v.push(c(y[x],"retweet-credit").length>0?!0:!1),x++;r.length>f&&(r.splice(f,r.length-f),s.splice(f,s.length-f),t.splice(f,t.length-f),v.splice(f,v.length-f),u.splice(f,u.length-f));for(var z=[],x=r.length,A=0;x>A;){if("string"!=typeof l){var B=t[A].getAttribute("datetime"),C=new Date(t[A].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),D=l(C,B);if(t[A].setAttribute("aria-label",D),r[A].innerText)if(m)t[A].innerText=D;else{var E=document.createElement("p"),F=document.createTextNode(D);E.appendChild(F),E.setAttribute("aria-label",D),t[A]=E}else t[A].textContent=D}var G="";g?(k&&(G+='<div class="user">'+b(s[A].innerHTML)+"</div>"),G+='<p class="tweet">'+b(r[A].innerHTML)+"</p>",j&&(G+='<p class="timePosted">'+t[A].getAttribute("aria-label")+"</p>")):r[A].innerText?(k&&(G+='<p class="user">'+s[A].innerText+"</p>"),G+='<p class="tweet">'+r[A].innerText+"</p>",j&&(G+='<p class="timePosted">'+t[A].innerText+"</p>")):(k&&(G+='<p class="user">'+s[A].textContent+"</p>"),G+='<p class="tweet">'+r[A].textContent+"</p>",j&&(G+='<p class="timePosted">'+t[A].textContent+"</p>")),p&&(G+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+w[A]+'" class="twitter_reply_icon">Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+w[A]+'" class="twitter_retweet_icon">Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+w[A]+'" class="twitter_fav_icon">Favorite</a></p>'),q&&void 0!==u[A]&&(G+='<div class="media"><img src="'+d(u[A])+'" alt="Image from tweet" /></div>'),z.push(G),A++}a(z),i=!1,h.length>0&&(twitterFetcher.fetch(h[0]),h.splice(0,1))}}}();!function(a,b,c){function d(b,c){this.element=b,this.$element=a(this.element),this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.init()}var e="scrolly",f={bgParallax:!1};d.prototype.init=function(){var b=this;this.startPosition=this.$element.position().top,this.offsetTop=this.$element.offset().top,this.height=this.$element.outerHeight(!0),this.velocity=this.$element.attr("data-velocity"),this.bgStart=parseInt(this.$element.attr("data-fit"),10),a(c).scroll(function(){b.didScroll=!0}),setInterval(function(){b.didScroll&&(b.didScroll=!1,b.scrolly())},10)},d.prototype.scrolly=function(){var c=a(b).scrollTop(),d=a(b).height(),e=this.startPosition;this.offsetTop>=c+d?this.$element.addClass("scrolly-invisible"):e=this.$element.hasClass("scrolly-invisible")?this.startPosition+(c+(d-this.offsetTop))*this.velocity:this.startPosition+c*this.velocity,this.bgStart&&(e+=this.bgStart),this.$element.css(this.options.bgParallax===!0?{backgroundPosition:"50% "+e+"px"}:{top:e})},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))})}}(jQuery,window,document),function(a){function b(a,b){return onresize=function(){clearTimeout(b),b=setTimeout(a,200)},a}function c(){var b=0,c=200,d=a(".project__fade");a(window).bind("scroll",function(){var e=a(document).scrollTop(),f=0;b>=e?f=.75:c>=e&&(f=.75-e/c),d.css("opacity",f)})}function d(){var b=!1,c=a(".post-grid__post");c.mousedown(function(c){switch(c.which){case 1:a(window).mousemove(function(){b=!0,a(window).unbind("mousemove")})}}),c.mouseup(function(c){switch(c.which){case 1:var d=b;b=!1,a(window).unbind("mousemove"),d||(window.location=a(this).find(".post__title a").attr("href"))}})}a("#projects-slider").slick({arrows:!1,speed:500,autoplay:!0,slide:"article",autoplaySpeed:3e3,infinite:!0,slidesToShow:6,slidesToScroll:1,lazyLoad:"progressive",responsive:[{breakpoint:1400,settings:{slidesToShow:4}},{breakpoint:800,settings:{slidesToShow:2}}]}),a(".slider-nav").click(function(a){a.preventDefault()}),a(".slider-nav--previous").click(function(){a(this).closest(".slider").slickPrev()}),a(".slider-nav--next").click(function(){a(this).closest(".slider").slickNext()}),a(".popup").fancybox({closeBtn:!1,openEffect:"fade",closeEffect:"fade",padding:0,maxWidth:"90%",maxHeight:"90%",helpers:{overlay:{locked:!1}}}),a(".parallax").scrolly({bgParallax:!0}),a(window).load(c);var e=function(){var b=a(window).height(),c=a("#page-head").height(),d=b-c,e=a(".post__title").outerHeight(),f=b-c-e,g=a(".post--project .post__img");a(".hero--fullheight").css("height",d),a(".post--blog .post__img").css("height",f),"fixed"==g.css("background-attachment")?(g.css("height",b),g.closest("img").addClass("accessibility")):(g.css("height","auto"),g.closest("img").removeClass("accessibility"))};a(document).ready(e),a(window).resize(e),a(window).load(d);var f=function(){a(".post-grid").each(function(){var b=a(this).find(".post-grid__post"),c=b.first(),d=c.width();b.each(function(){a(this).height(d)})})};a(document).ready(f),b(f),a(function(){function a(a){for(var b=a.length,c=0,d=document.getElementById("tweets"),e='<div class="grid">';b>c;)e+='<div class="grid__item desk--one-half"><blockquote class="quote quote--tweet">'+a[c]+"</blockquote></div>",c++;e+="</div>",d.innerHTML=e}var b={id:"533700189861593088",domId:"",maxTweets:2,enableLinks:!0,showRetweet:!1,showTime:!0,showUser:!1,showImages:!1,dateFunction:"",showInteraction:!1,customCallback:a};twitterFetcher.fetch(b)}),a(function(){function b(){a(".btn--search").addClass("faded"),a(d).addClass("results--visible")}SimpleJekyllSearch.init({searchInput:document.getElementById("search-input"),resultsContainer:document.getElementById("search-results-list"),dataSource:"/search.json",noResultsText:'<li class="no-results">Looks like nothing&rsquo;s here.</li>',searchResultTemplate:'<li class="results__item flag flag--middle"><div class="flag__img"><img src="{image}" alt="" class="results__img"></div><div class="flag__body"><a class="results__title" href="{url}">{title}</a></div></li>'});var c=a("#search-input"),d=a("#search-results");c.val(""),c.focus(function(){c.val()?b():a(c).keypress(b)}),a(c).focusout(function(){a(d).is(":hover")||(a(d).removeClass("results--visible"),a(".btn--search").removeClass("faded"))}),a(d).click(function(){a(c).focus()}),a(document).ready(function(){a(d).removeClass("results--visible")})}),a(function(){function b(){setTimeout(function(){a(".jscroll-added > .post").each(function(){a(this).addClass("jscroll-visible")})},200),f(),d()}a("#posts").jscroll({nextSelector:"#load-more",contentSelector:"article",autoTrigger:!1,callback:b,loadingHtml:'<div id="posts-loader" class="spinner posts-loader"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'})}),a(function(){a("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var b=a(this.hash);if(b=b.length?b:a("[name="+this.hash.slice(1)+"]"),b.length)return a("html,body").animate({scrollTop:b.offset().top},1e3),!1}})})}(jQuery);